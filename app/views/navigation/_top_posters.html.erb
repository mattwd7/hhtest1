<!-- Top Posters -->
<% users = User.all %>
<% users.sort! { |a,b| b.posts.count <=> a.posts.count } %>
<% list_num = 1 %>

<div class="right_widget" id="top_contributors">
	<div id="title">Top Contributors</div>

<table align="center">
	<col width="10%" />
	<col width="70%" />
	<col width="20%" />
	<tr>
	<td></td>
	<td>Username</td>
	<td>Posts</td>
	</tr>
	<% users.each do |u| %>
		<tr>
			<td><%= list_num %>. </td>
			<td align="left"><%= link_to u.username, user_profile_path(:user => u.id) %></td>
			<td align="center"><%= u.posts.count %></td>
		</tr>
		<% list_num = list_num + 1 %>
		<% if list_num > 10; break; end %>
	<% end %>
</table>
</div>